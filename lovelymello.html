<script>
  const PASSWORD = 'gantilah-dengan-passwordmu'; // <-- ganti sesuai keinginan
  const STORAGE_KEY = 'cinta_access_granted_v1';

  const pwInput = document.getElementById('pw');
  const submitBtn = document.getElementById('submitBtn');
  const secret = document.getElementById('secretContent');
  const hintBtn = document.getElementById('hintBtn');

  function showHearts(){
    const wrapper = document.querySelector('.hearts');
    for (let i=0;i<12;i++){
      const h = document.createElement('div');
      h.className='heart';
      const left = Math.random()*100;
      const size = 8 + Math.random()*28;
      h.style.left = left+'%';
      h.style.width = size+'px';
      h.style.height = size+'px';
      h.style.animationDuration = (8 + Math.random()*10)+'s';
      h.style.top = (90 + Math.random()*20)+'%';
      wrapper.appendChild(h);
    }
  }

  function reveal() {
    secret.style.display = 'block';
    secret.setAttribute('aria-hidden','false');
    // Di sini kamu bisa tambahkan efek fade ke halaman kejutan lain
  }

  function deny() {
    const el = pwInput;
    el.style.transition='transform 0.12s';
    el.style.transform='translateX(-8px)';
    setTimeout(()=>el.style.transform='translateX(8px)',120);
    setTimeout(()=>el.style.transform='translateX(0)',240);
  }

  submitBtn.addEventListener('click', ()=>{
    const val = pwInput.value.trim();
    if (!val) { deny(); return; }
    if (val === PASSWORD) { reveal(); } else { deny(); }
  });

  pwInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ submitBtn.click(); } });

  hintBtn.addEventListener('click', ()=>{ alert('Hint: sesuatu yang spesial berkaitan dengan kenangan kita. :)'); });

  // âœ… Cek apakah sudah login
  if (!localStorage.getItem(STORAGE_KEY)) {
    window.location.href = './index.html';
  }

  showHearts();
</script>
