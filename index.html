<!--
  Website Cinta - versi final (anti loop)
  Fitur:
  - Password sederhana dengan animasi hati
  - Redirect ke lovelymello.html setelah benar
  - Tidak auto-redirect ulang (anti reload loop)
  - Simpan sesi (opsional) agar tidak perlu login ulang
-->

<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rahasiaku untuk Kamu ðŸ’–</title>
  <style>
    :root{
      --bg: #fff0f6;
      --card: #ffffff;
      --accent: #ff6b9a;
      --muted: #6b6b6b;
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(circle at 10% 10%, #fff6fb 0%, var(--bg) 40%, #ffeef6 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Floating hearts background */
    .hearts {
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart{
      position:absolute;
      width:16px; height:16px;
      transform:translate(-50%,-50%) rotate(45deg);
      background:var(--accent);
      border-radius:3px 3px 0 0;
      opacity:0.85;
      animation:floatUp linear infinite;
    }
    .heart:before, .heart:after{content:'';position:absolute;background:var(--accent);width:16px;height:16px;border-radius:50%}
    .heart:before{top:-8px;left:0}
    .heart:after{left:8px;top:0}
    @keyframes floatUp{
      0%{transform:translate(-50%,100%) scale(0.6) rotate(45deg);opacity:0}
      10%{opacity:0.9}
      100%{transform:translate(-50%,-120vh) scale(1.1) rotate(45deg);opacity:0}
    }

    /* Card */
    .card{
      position:relative;
      width:100%;
      max-width:760px;
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.92));
      border-radius:var(--radius);
      padding:36px;
      box-shadow:0 10px 30px rgba(108, 34, 86, 0.08);
      z-index:1;
      text-align:center;
    }

    h1{margin:0 0 8px;font-size:28px;color:#411233}
    p.lead{margin:0 0 22px;color:var(--muted)}

    .form{
      display:flex;
      gap:12px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
    }
    input[type=password]{
      padding:12px 14px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,0.06);
      min-width:220px;
      font-size:16px;
      outline:none;
      background:#fff;
    }
    button{
      border:0;
      padding:12px 16px;
      border-radius:12px;
      font-weight:600;
      cursor:pointer;
      background:linear-gradient(90deg,#ff7ba6,#ff6b9a);
      color:white;
      box-shadow:0 8px 18px rgba(255,107,154,0.18);
    }
    .small{font-size:13px;color:var(--muted);margin-top:12px}
    .hint{color:#9b4666;font-weight:600}
    @media (max-width:480px){
      h1{font-size:22px}
      .card{padding:20px}
    }
  </style>
</head>
<body>

  <div class="hearts" aria-hidden="true"></div>

  <main class="card" role="main">
    <h1>Halo Sayang ðŸ’•</h1>
    <p class="lead">Masukkan kata sandi supaya kamu bisa melihat kejutan manis di baliknya.</p>

    <form id="pwForm" class="form" onsubmit="return false;">
      <input id="pw" type="password" placeholder="Masukkan kata sandi..." autocomplete="off" aria-label="kata sandi" />
      <button id="submitBtn" type="button" aria-label="buka">Buka</button>
    </form>

    <div class="small">Lupa kata sandi? <button id="hintBtn" style="background:none;border:0;color:var(--accent);cursor:pointer;font-weight:700;padding:0">Hint</button></div>
  </main>

  <script>
    // === Ganti password di sini ===
    const PASSWORD = 'gantilah-dengan-passwordmu';
    const STORAGE_KEY = 'cinta_access_granted_v1';
    const redirectUrl = './lovelymello.html';

    const pwInput = document.getElementById('pw');
    const submitBtn = document.getElementById('submitBtn');
    const hintBtn = document.getElementById('hintBtn');

    // Buat animasi hati
    function showHearts(){
      const wrapper = document.querySelector('.hearts');
      for(let i=0;i<14;i++){
        const h=document.createElement('div');
        h.className='heart';
        const left=Math.random()*100;
        const size=8+Math.random()*28;
        h.style.left=left+'%';
        h.style.width=size+'px';
        h.style.height=size+'px';
        h.style.animationDuration=(8+Math.random()*10)+'s';
        h.style.top=(90+Math.random()*20)+'%';
        wrapper.appendChild(h);
      }
    }
    showHearts();

    // Fungsi shake input jika salah
    function deny(){
      pwInput.style.transition='transform 0.12s';
      pwInput.style.transform='translateX(-8px)';
      setTimeout(()=>pwInput.style.transform='translateX(8px)',120);
      setTimeout(()=>pwInput.style.transform='translateX(0)',240);
    }

    // Redirect ketika benar
    function reveal(){
      localStorage.setItem(STORAGE_KEY, '1');
      window.location.replace(redirectUrl);
    }

    // Tombol submit
    submitBtn.addEventListener('click', ()=>{
      const val = pwInput.value.trim();
      if(!val){deny();return;}
      if(val === PASSWORD){ reveal(); }
      else{ deny(); }
    });

    // Tekan Enter
    pwInput.addEventListener('keydown', e=>{
      if(e.key==='Enter'){ submitBtn.click(); }
    });

    // Hint
    hintBtn.addEventListener('click', ()=>{
      alert('Hint: sesuatu yang berkaitan dengan kita ðŸ’ž');
    });

    // === Catatan ===
    // Tidak ada auto-redirect agar tidak menyebabkan loop
    // Logout di lovelymello.html akan menghapus localStorage
  </script>
</body>
</html>
