<!doctype html>
.meta{margin-top:18px;font-size:13px;color:#888}
.actions{display:flex;gap:10px;justify-content:center;margin-top:18px}
button{padding:8px 12px;border-radius:10px;border:0;background:var(--accent);color:white;cursor:pointer}
</style>
</head>
<body>
<main class="card">
<div id="content" style="display:none">
<div class="heart">❤️</div>
<h1>Untuk Mello — Kusayang Kamu</h1>
<p>Sayang, setiap detik yang kita lewati — walau terpisah — selalu membuatku bersyukur. Kamu adalah alasan aku tersenyum sebelum tidur, dan alasan aku bangun penuh semangat.</p>


<p>Terima kasih sudah jadi kamu: sabar, lucu, dan selalu mengerti. Aku menunggumu sampai kita bisa memeluk secara nyata lagi.</p>


<div class="actions">
<button id="logoutBtn">Keluar / Logout</button>
</div>


<p class="meta">Halaman ini dilindungi oleh kata sandi yang harus dimasukkan ulang setiap 1 jam.</p>
</div>


<div id="locked" style="display:none">
<h2>Terkunci</h2>
<p>Kata sandi belum dimasukkan atau sesi sudah kedaluwarsa. Kamu akan diarahkan kembali ke halaman masukkan password.</p>
</div>
</main>


<script>
(function(){
try{
const expiry = Number(sessionStorage.getItem('love_token_expiry') || '0');
const token = sessionStorage.getItem('love_token');
if(token && expiry && expiry > Date.now()){
// token valid -> tampilkan konten
document.getElementById('content').style.display = 'block';
} else {
// token hilang atau kadaluarsa -> bersihkan dan redirect ke index
sessionStorage.removeItem('love_token');
sessionStorage.removeItem('love_token_expiry');
sessionStorage.removeItem('love_unlocked_at');
document.getElementById('locked').style.display = 'block';
// beri waktu singkat supaya pesan terlihat, lalu redirect
setTimeout(()=>{ window.location.href = 'index.html'; }, 2000);
}
}catch(e){ console.error(e); window.location.href = 'index.html'; }


document.getElementById('logoutBtn').addEventListener('click', ()=>{
sessionStorage.removeItem('love_token');
sessionStorage.removeItem('love_token_expiry');
sessionStorage.removeItem('love_unlocked_at');
window.location.href = 'index.html';
});
})();
</script>
</body>
</html>
